<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Para ti</title>
  <link rel="stylesheet" href="estilos.css"/>
</head>
<body>
  <!-- Aquí va todo el contenido visible de la página -->
  <!-- Pantalla de bienvenida -->
<div id="bienvenida" class="pantalla-bienvenida">
  <img src="Amor.jpg"/>
  <h1>¿Quieres leer mi carta para ti? ( ´ ▽ ` )</h1>
  <div class="botones">
    <button onclick="mostrarCarta()">Sí</button>
    <button onclick="mostrarMensaje()">No</button>
  </div>
</div>
<!-- Carta (oculta al inicio) -->
<div id="contenido-carta" class="carta" style="display: none;">
  <h1>Para ti</h1>
  <p>
     Eres mi sueño, mi maximo, mi persona especial, espero nunca dejes de brillar.<br>
     Le haces bien al mundo, me haces bien a mi, amo verte, amo sentirte, nunca dejes de molestarme.<br>
   Te quiero♡
  </p>
</div>
<!-- Ventana con imagen personalizada para el botón "No" -->
<div id="ventana-no" class="ventana-no" style="display: none;">
  <img src="esperandoo.jpg"/>
  <h1>Ponle que si, anene (｡•́︿•̀｡)</h1>
  <button class="botones-button" onclick="cerrarVentanaNo()">Cerrar</button>
</div>

<script>
  function mostrarCarta() {
  document.getElementById('bienvenida').style.display = 'none';
  document.getElementById('ventana-no').style.display = 'none';

  const carta = document.getElementById('contenido-carta');
  carta.style.display = 'block';
  carta.classList.add('fadeIn');

  history.pushState({pantalla: 'carta'}, '', '');
}

function mostrarMensaje() {
  document.getElementById('bienvenida').style.display = 'none';
  document.getElementById('contenido-carta').style.display = 'none';

  const ventana = document.getElementById('ventana-no');
  ventana.style.display = 'block';
  ventana.classList.add('fadeIn');

  history.pushState({pantalla: 'no'}, '', '#no');
}

function cerrarVentanaNo() {
  const ventana = document.getElementById('ventana-no');
  ventana.style.display = 'none';
  ventana.classList.remove('fadeIn');

  // Mostrar bienvenida otra vez
  document.getElementById('bienvenida').style.display = 'flex';

  // Actualizar historial para que botón atrás no saque de la página
  history.pushState({pantalla: 'inicio'}, '', location.pathname);
}

window.onload = () => {
  history.replaceState({pantalla: 'inicio'}, '', location.pathname);
};

window.addEventListener('popstate', (event) => {
  if (!event.state || event.state.pantalla === 'inicio') {
    document.getElementById('bienvenida').style.display = 'flex';
    document.getElementById('contenido-carta').style.display = 'none';
    document.getElementById('ventana-no').style.display = 'none';
  } else if (event.state.pantalla === 'carta') {
    document.getElementById('bienvenida').style.display = 'none';
    document.getElementById('contenido-carta').style.display = 'block';
    document.getElementById('ventana-no').style.display = 'none';
  } else if (event.state.pantalla === 'no') {
    document.getElementById('bienvenida').style.display = 'none';
    document.getElementById('contenido-carta').style.display = 'none';
    document.getElementById('ventana-no').style.display = 'block';
  }
});

</script>
</body>
</html>
